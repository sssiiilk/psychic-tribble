# Инструкции по развертыванию

## Фронтенд (Netlify)

Фронтенд уже развернут на: `https://cute-cucurucho-9e8bde.netlify.app`

### Локальная разработка

1. Установите зависимости:
```bash
npm install
```

2. Запустите проект в режиме разработки:
```bash
npm run dev
```

3. Откройте http://localhost:5173 в браузере

## Бекенд (Render)

Бекенд уже развернут на: `https://psychic-tribble.onrender.com`

### Локальная разработка

1. Перейдите в папку backend:
```bash
cd backend
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите сервер:
```bash
npm start
```

4. Сервер будет доступен на http://localhost:5000

## API Endpoints

### Аутентификация
- `POST /api/auth/register` - Регистрация пользователя
- `POST /api/auth/login` - Вход пользователя
- `GET /api/auth/verify` - Проверка токена

### Жилые комплексы
- `GET /api/complexes` - Получить все комплексы
- `GET /api/complexes/:id` - Получить комплекс по ID
- `GET /api/complexes/status/:status` - Получить комплексы по статусу
- `GET /api/complexes/developer/:developer` - Получить комплексы по застройщику

### Система
- `GET /api/health` - Проверка здоровья сервера

## Конфигурация

### Фронтенд
URL бекенда настроен в файле `src/config/api.js`:
```javascript
export const API_BASE_URL = 'https://psychic-tribble.onrender.com';
```

### Бекенд
- Порт: 5000 (по умолчанию) или переменная окружения PORT
- CORS настроен для всех доменов
- JWT секрет: 'your-secret-key' (в продакшене используйте переменную окружения)

## Обновление данных

### Жилые комплексы
Данные о жилых комплексах хранятся в файле `backend/data/complexes.json`

### Пользователи
Данные пользователей хранятся в файле `backend/data/users.json`

## Мониторинг

- Фронтенд показывает статус подключения к бекенду в правом верхнем углу
- Бекенд логирует все запросы в консоль
- Health check endpoint доступен для мониторинга

## Безопасность

- Пароли хешируются с помощью bcrypt
- JWT токены используются для аутентификации
- CORS настроен для безопасности
- Валидация данных на сервере

## Troubleshooting

### Проблемы с подключением к бекенду
1. Проверьте, что бекенд запущен на Render
2. Убедитесь, что URL в конфигурации правильный
3. Проверьте CORS настройки

### Проблемы с данными
1. Проверьте формат JSON файлов в папке data
2. Убедитесь, что файлы доступны для чтения
3. Проверьте логи сервера

### Проблемы с аутентификацией
1. Проверьте JWT секрет
2. Убедитесь, что токены сохраняются в localStorage
3. Проверьте формат Authorization header 